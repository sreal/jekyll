---
layout: default
title: Docker Setup and Snippets
---

<div id="outline-container-sec-1" class="outline-2">
<h2 id="sec-1"><a href="https://www.docker.com/">Docker</a> Setup and Snippets</h2>
<div class="outline-text-2" id="text-1">
<p>
These are some helper script to setting up and running a docke container in Windows.
</p>
</div>

<div id="outline-container-sec-1-1" class="outline-3">
<h3 id="sec-1-1">docker-machine</h3>
<div class="outline-text-3" id="text-1-1">
<p>
Docker for windows uses docker-machine insted of boot2win.
<a href="http://docs.docker.com/installation/windows/">http://docs.docker.com/installation/windows/</a>
</p>
</div>
</div>

<div id="outline-container-sec-1-2" class="outline-3">
<h3 id="sec-1-2">installed</h3>
<div class="outline-text-3" id="text-1-2">
<p>
VirtualBox &amp; Docker.
VirtualBox to host the linux vm running docker.
</p>
</div>
</div>

<div id="outline-container-sec-1-3" class="outline-3">
<h3 id="sec-1-3">create docker machine in windows</h3>
<div class="outline-text-3" id="text-1-3">
<div class="org-src-container">

<pre class="src src-powershell">docker-machine create --driver virtualbox docker-machine-vm
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-4" class="outline-3">
<h3 id="sec-1-4">start docker start up process</h3>
<div class="outline-text-3" id="text-1-4">
<div class="org-src-container">

<pre class="src src-poweshell">docker-machine.exe start $machineName
docker-machine env --shell=powershell $machineName | Invoke-Expression
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-5" class="outline-3">
<h3 id="sec-1-5">stop docker machine in windows</h3>
<div class="outline-text-3" id="text-1-5">
<div class="org-src-container">

<pre class="src src-powershell">docker-machine stop $machineName
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-6" class="outline-3">
<h3 id="sec-1-6">Certificates</h3>
<div class="outline-text-3" id="text-1-6">
<p>
Certificates not generated in the right place
<a href="http://stackoverflow.com/questions/31561801/docker-machine-ca-pem-not-found">http://stackoverflow.com/questions/31561801/docker-machine-ca-pem-not-found</a>
missing from ~/.docker/machines/machine/&lt;machineName&gt;/*
</p>
</div>
</div>

<div id="outline-container-sec-1-7" class="outline-3">
<h3 id="sec-1-7">Connect/Start to a docker machine vm in windows</h3>
<div class="outline-text-3" id="text-1-7">
<div class="org-src-container">

<pre class="src src-powershell">docker-machine env --shell=powershell $machineName | Invoke-Expression
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-8" class="outline-3">
<h3 id="sec-1-8">Mounter Folders</h3>
<div class="outline-text-3" id="text-1-8">
<p>
Folders mounted on the command line are from the docker-machine-vm not the windows box IE <i>var/unix/addr</i>.
</p>

<p>
Must use ~/ for project to be mounted into docker-machine because any other folder will not mount properly in VirtualBox
</p>
</div>
</div>

<div id="outline-container-sec-1-9" class="outline-3">
<h3 id="sec-1-9">SSH into docker machine vm</h3>
<div class="outline-text-3" id="text-1-9">
<div class="org-src-container">

<pre class="src src-powershell">docker-machine ssh &lt;docker-machine-vm&gt;
</pre>
</div>
</div>
</div>

<div id="outline-container-sec-1-10" class="outline-3">
<h3 id="sec-1-10">Sidenote: nginx</h3>
<div class="outline-text-3" id="text-1-10">
<p>
For a file file to refresh in a browser <code>sendfile off;</code> is required because there is a bug in virtualbox.
</p>
</div>
</div>
</div>
